# Example YAML configuration for go3mf
# This file demonstrates how to define multiple objects with multiple parts

# Output file path (relative to this config file or absolute)
output: combined_from_yaml.3mf

# Packing distance between objects in mm (default: 10.0)
packing_distance: 10.0

# Define objects - each object groups related parts
objects:
  # First object - a simple single-part object with inline config files
  - name: Base
    config:
      - cfg-label.scad: |
          function txt() = "my-label";
          function only_txt() = false;
      - cfg-distance.scad: |
          function distance() = 2;
    parts:
      - name: platform
        file: a.scad
        filament: 1  # Use AMS slot 1 (optional, 0 or omit for auto-assign)
        # Optional: Rotate the part (in degrees)
        # rotation_x: 0   # Rotation around X axis
        # rotation_y: 0   # Rotation around Y axis
        # rotation_z: 0   # Rotation around Z axis

  # Second object - a multi-part object with mixed config files
  - name: Assembly
    config:
      - cfg-global.scad: |
          function default_height() = 10;
          function default_width() = 20;
    parts:
      - name: main_body
        file: b.scad
        filament: 2  # Use AMS slot 2
        config:
          - cfg-main.scad: |
              function body_color() = "red";
              function body_scale() = 1.5;

      - name: cover
        file: a.scad
        filament: 3  # Use AMS slot 3
        # Optional: Position this part relative to main_body
        # position_z: 5  # Offset 5mm above in Z direction
        config:
          - cfg-cover.scad: |
              function cover_thickness() = 2;
              function cover_material() = "plastic";

# Notes:
# - File paths can be relative to this YAML file or absolute
# - Filament values: 0 or omitted = auto-assign, 1-4 = AMS slots
# - Rotation values: rotation_x, rotation_y, rotation_z in degrees (optional, default: 0)
#   - Rotations are applied in the order: Z, Y, X (intrinsic rotations)
#   - Positive values rotate counter-clockwise when looking along the positive axis
# - Position values: position_x, position_y, position_z in mm (optional, default: 0)
#   - Relative offsets within an object
#   - Parts in the same object maintain their relative positions
# - Position normalization: normalize_position (optional, default: true)
#   - true: Object is placed at ground level (z=0)
#   - false: Object keeps its original z-position from the model
# - Config files can be defined at object level (applied to all parts) or part level
# - Part-level config files override object-level config files with the same name
# - Multiple config files can be specified as an array of filename->content maps
# - Config files are written to the working directory during rendering and included by OpenSCAD
# - Each part will be rendered separately and combined into one 3MF file
# - Parts within an object will be named as "object_name/part_name" in the output
